@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Apple-style CSS variables */
    --apple-bg: 255 255 255;
    --apple-bg-secondary: 245 245 247;
    --apple-bg-tertiary: 251 251 253;
    --apple-text: 28 28 30;
    --apple-text-secondary: 134 134 139;
    --apple-text-tertiary: 174 174 178;
    --apple-border: 210 210 215;
    --apple-border-light: 232 232 237;
    --apple-blue: 0 113 227;
    --apple-green: 48 209 88;
    --apple-red: 255 59 48;
    --apple-orange: 255 149 0;
    --apple-purple: 175 82 222;
    --apple-pink: 255 45 85;
    --apple-teal: 0 199 190;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --apple-bg: 0 0 0;
      --apple-bg-secondary: 28 28 30;
      --apple-bg-tertiary: 44 44 46;
      --apple-text: 255 255 255;
      --apple-text-secondary: 142 142 147;
      --apple-text-tertiary: 99 99 102;
      --apple-border: 58 58 60;
      --apple-border-light: 48 48 50;
      --apple-blue: 10 132 255;
      --apple-green: 52 199 89;
      --apple-red: 255 69 58;
      --apple-orange: 255 159 10;
      --apple-purple: 191 90 242;
      --apple-pink: 255 100 130;
      --apple-teal: 90 200 250;
    }
  }

  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-white text-apple-gray-900;
    font-feature-settings: 'kern' 1;
    font-kerning: normal;
  }

  @media (prefers-color-scheme: dark) {
    body {
      @apply bg-black text-white;
    }
  }
}

@layer components {
  /* Apple-style button */
  .btn-apple {
    @apply px-6 py-3 rounded-apple-button font-medium text-body-l
           bg-apple-blue text-white
           transition-all duration-200 ease-out
           hover:bg-apple-blue-dark active:scale-[0.97]
           focus:outline-none focus:ring-4 focus:ring-apple-blue/20;
  }

  .btn-apple-secondary {
    @apply px-6 py-3 rounded-apple-button font-medium text-body-l
           bg-apple-gray-100 text-apple-gray-900
           transition-all duration-200 ease-out
           hover:bg-apple-gray-200 active:scale-[0.97]
           focus:outline-none focus:ring-4 focus:ring-apple-gray-500/20;
  }

  .btn-apple-ghost {
    @apply px-6 py-3 rounded-apple-button font-medium text-body-l
           text-apple-blue border border-apple-blue/20
           transition-all duration-200 ease-out
           hover:bg-apple-blue/5 active:scale-[0.97]
           focus:outline-none focus:ring-4 focus:ring-apple-blue/20;
  }

  /* Apple-style card */
  .card-apple {
    @apply bg-white rounded-apple border border-apple-gray-200
           shadow-apple backdrop-blur-apple
           transition-all duration-300 ease-out;
  }

  @media (prefers-color-scheme: dark) {
    .card-apple {
      @apply bg-apple-gray-900 border-apple-gray-800;
    }
  }

  .card-apple-glass {
    @apply bg-white/70 rounded-apple border border-apple-gray-200/50
           shadow-apple backdrop-blur-apple
           transition-all duration-300 ease-out;
  }

  @media (prefers-color-scheme: dark) {
    .card-apple-glass {
      @apply bg-apple-gray-900/70 border-apple-gray-800/50;
    }
  }

  /* Apple-style input */
  .input-apple {
    @apply w-full px-4 py-3 rounded-apple-sm
           bg-apple-gray-100 text-apple-gray-900
           border border-transparent
           placeholder:text-apple-gray-500
           transition-all duration-200 ease-out
           focus:bg-white focus:border-apple-blue
           focus:outline-none focus:ring-4 focus:ring-apple-blue/20;
  }

  @media (prefers-color-scheme: dark) {
    .input-apple {
      @apply bg-apple-gray-800 text-white
             focus:bg-apple-gray-900;
    }
  }

  /* Apple-style navigation */
  .nav-apple {
    @apply fixed top-0 left-0 right-0 z-50
           bg-white/80 backdrop-blur-apple
           border-b border-apple-gray-200/50;
  }

  @media (prefers-color-scheme: dark) {
    .nav-apple {
      @apply bg-apple-gray-900/80 border-apple-gray-800/50;
    }
  }

  /* Apple-style text */
  .text-headline-apple {
    @apply text-headline tracking-tight font-semibold;
  }

  .text-title-apple {
    @apply text-title-l tracking-tight font-semibold;
  }

  .text-body-apple {
    @apply text-body-l text-apple-gray-700;
  }

  @media (prefers-color-scheme: dark) {
    .text-body-apple {
      @apply text-apple-gray-300;
    }
  }

  /* Apple-style badge */
  .badge-apple {
    @apply inline-flex items-center px-3 py-1 rounded-full
           text-body-s font-medium
           bg-apple-gray-100 text-apple-gray-700;
  }

  .badge-apple-blue {
    @apply bg-apple-blue/10 text-apple-blue;
  }

  .badge-apple-green {
    @apply bg-apple-green/10 text-apple-green;
  }

  .badge-apple-red {
    @apply bg-apple-red/10 text-apple-red;
  }

  /* Apple-style animations */
  .animate-apple-bounce {
    animation: apple-bounce 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .animate-apple-fade-in {
    animation: apple-fade-in 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-apple-slide-up {
    animation: apple-slide-up 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Apple-style gradient text */
  .text-gradient-apple {
    @apply bg-gradient-to-r from-apple-blue via-apple-purple to-apple-pink
           bg-clip-text text-transparent;
  }

  /* Apple-style focus */
  .focus-apple {
    @apply focus:outline-none focus:ring-4 focus:ring-apple-blue/20
           focus-visible:ring-4 focus-visible:ring-apple-blue/20;
  }
}

@layer utilities {
  /* Apple-style utilities */
  .will-change-transform {
    will-change: transform;
  }

  .perspective-1000 {
    perspective: 1000px;
  }

  .preserve-3d {
    transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
  }

  /* Smooth scroll */
  .scroll-smooth {
    scroll-behavior: smooth;
  }

  /* iOS-style scroll */
  .scroll-ios {
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x mandatory;
  }

  .scroll-ios > * {
    scroll-snap-align: start;
  }
}